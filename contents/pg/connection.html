


<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Connection – The connection object &#8212; PyGreSQL 5.2 documentation</title>
    <link rel="stylesheet" href="../../_static/cloud.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygresql.css" type="text/css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text:400,i,b,bi|Open+Sans:400,i,b,bi|Roboto+Mono:400,i,b,bi&display=swap" type="text/css" />
    
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>

    
    
     
        <script src="../../_static/jquery.cookie.js"></script>
    

    
     
        <script src="../../_static/cloud.base.js"></script>
    

    
     
        <script src="../../_static/cloud.js"></script>
    

    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="The DB wrapper class" href="db_wrapper.html" />
    <link rel="prev" title="Module functions and constants" href="module.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
<div class="pageheader related" role="navigation" aria-label="related navigation">
  <ul>
    <li><a href="../../index.html">Home</a></li>
    <li><a href="../../download/index.html">Download</a></li>
    <li><a href="../index.html">Documentation</a></li>
    <li><a href="../../community/index.html">Community</a></li>
  </ul>
  <div class="logo">
    <a href="../../index.html">PyGreSQL</a>
  </div>
</div>

</div>

    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="db_wrapper.html" title="The DB wrapper class"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="module.html" title="Module functions and constants"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">PyGreSQL 5.2 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pg</span></code> — The Classic PyGreSQL Interface</a> &#187;</li> 
      </ul>
    </div>
    </div>

  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="connection-the-connection-object">
<h1>Connection – The connection object<a class="headerlink" href="#connection-the-connection-object" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="pg.Connection">
<em class="property">class </em><code class="sig-prename descclassname">pg.</code><code class="sig-name descname">Connection</code><a class="headerlink" href="#pg.Connection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>This object handles a connection to a PostgreSQL database. It embeds and
hides all the parameters that define this connection, thus just leaving really
significant parameters in function calls.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some methods give direct access to the connection socket.
<em>Do not use them unless you really know what you are doing.</em>
If you prefer disabling them,
do not set the <code class="docutils literal notranslate"><span class="pre">direct_access</span></code> option in the Python setup file.
These methods are specified by the tag [DA].</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some other methods give access to large objects
(refer to PostgreSQL user manual for more information about these).
If you want to forbid access to these from the module,
set the <code class="docutils literal notranslate"><span class="pre">large_objects</span></code> option in the Python setup file.
These methods are specified by the tag [LO].</p>
</div>
<div class="section" id="query-execute-a-sql-command-string">
<h2>query – execute a SQL command string<a class="headerlink" href="#query-execute-a-sql-command-string" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.query">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">query</code><span class="sig-paren">(</span><em class="sig-param">command</em><span class="optional">[</span>, <em class="sig-param">args</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.query" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a SQL command string</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>command</strong> (<em>str</em>) – SQL command</p></li>
<li><p><strong>args</strong> – optional parameter values</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>result values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="query.html#pg.Query" title="pg.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>, None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – bad argument type, or too many arguments</p></li>
<li><p><strong>TypeError</strong> – invalid connection</p></li>
<li><p><strong>ValueError</strong> – empty SQL query or lost connection</p></li>
<li><p><strong>pg.ProgrammingError</strong> – error in query</p></li>
<li><p><strong>pg.InternalError</strong> – error during query processing</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method simply sends a SQL query to the database. If the query is an
insert statement that inserted exactly one row into a table that has OIDs,
the return value is the OID of the newly inserted row as an integer.
If the query is an update or delete statement, or an insert statement that
did not insert exactly one row, or on a table without OIDs, then the number
of rows affected is returned as a string. If it is a statement that returns
rows as a result (usually a select statement, but maybe also an
<code class="docutils literal notranslate"><span class="pre">&quot;insert/update</span> <span class="pre">...</span> <span class="pre">returning&quot;</span></code> statement), this method returns
a <a class="reference internal" href="query.html#pg.Query" title="pg.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>. Otherwise, it returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>You can use the <a class="reference internal" href="query.html#pg.Query" title="pg.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> object as an iterator that yields all results
as tuples, or call <a class="reference internal" href="query.html#pg.Query.getresult" title="pg.Query.getresult"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.getresult()</span></code></a> to get the result as a list
of tuples. Alternatively, you can call <a class="reference internal" href="query.html#pg.Query.dictresult" title="pg.Query.dictresult"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.dictresult()</span></code></a> or
<a class="reference internal" href="query.html#pg.Query.dictiter" title="pg.Query.dictiter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.dictiter()</span></code></a> if you want to get the rows as dictionaries,
or <a class="reference internal" href="query.html#pg.Query.namedresult" title="pg.Query.namedresult"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.namedresult()</span></code></a> or <a class="reference internal" href="query.html#pg.Query.namediter" title="pg.Query.namediter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.namediter()</span></code></a> if you want to
get the rows as named tuples. You can also simply print the <a class="reference internal" href="query.html#pg.Query" title="pg.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>
object to show the query results on the console.</p>
<p>The SQL command may optionally contain positional parameters of the form
<code class="docutils literal notranslate"><span class="pre">$1</span></code>, <code class="docutils literal notranslate"><span class="pre">$2</span></code>, etc instead of literal data, in which case the values
must be supplied separately as a tuple.  The values are substituted by
the database in such a way that they don’t need to be escaped, making this
an effective way to pass arbitrary or unknown data without worrying about
SQL injection or syntax errors.</p>
<p>If you don’t pass any parameters, the command string can also include
multiple SQL commands (separated by semicolons). You will only get the
return value for the last command in this case.</p>
<p>When the database could not process the query, a <code class="xref py py-exc docutils literal notranslate"><span class="pre">pg.ProgrammingError</span></code> or
a <code class="xref py py-exc docutils literal notranslate"><span class="pre">pg.InternalError</span></code> is raised. You can check the <code class="docutils literal notranslate"><span class="pre">SQLSTATE</span></code> error code
of this error by reading its <code class="xref py py-attr docutils literal notranslate"><span class="pre">sqlstate</span></code> attribute.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Name? &quot;</span><span class="p">)</span>
<span class="n">phone</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;select phone from employees where name=$1&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">name</span><span class="p">,))</span><span class="o">.</span><span class="n">getresult</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="query-prepared-execute-a-prepared-statement">
<h2>query_prepared – execute a prepared statement<a class="headerlink" href="#query-prepared-execute-a-prepared-statement" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.query_prepared">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">query_prepared</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="optional">[</span>, <em class="sig-param">args</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.query_prepared" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a prepared statement</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – name of the prepared statement</p></li>
<li><p><strong>args</strong> – optional parameter values</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>result values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="query.html#pg.Query" title="pg.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>, None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – bad argument type, or too many arguments</p></li>
<li><p><strong>TypeError</strong> – invalid connection</p></li>
<li><p><strong>ValueError</strong> – empty SQL query or lost connection</p></li>
<li><p><strong>pg.ProgrammingError</strong> – error in query</p></li>
<li><p><strong>pg.InternalError</strong> – error during query processing</p></li>
<li><p><strong>pg.OperationalError</strong> – prepared statement does not exist</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method works exactly like <a class="reference internal" href="#pg.Connection.query" title="pg.Connection.query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.query()</span></code></a> except that instead
of passing the command itself, you pass the name of a prepared statement.
An empty name corresponds to the unnamed statement.  You must have previously
created the corresponding named or unnamed statement with
<a class="reference internal" href="#pg.Connection.prepare" title="pg.Connection.prepare"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.prepare()</span></code></a>, or an <code class="xref py py-exc docutils literal notranslate"><span class="pre">pg.OperationalError</span></code> will be raised.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1.</span></p>
</div>
</div>
<div class="section" id="prepare-create-a-prepared-statement">
<h2>prepare – create a prepared statement<a class="headerlink" href="#prepare-create-a-prepared-statement" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.prepare">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">prepare</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">command</em><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a prepared statement</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – name of the prepared statement</p></li>
<li><p><strong>command</strong> (<em>str</em>) – SQL command</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – bad argument types, or wrong number of arguments</p></li>
<li><p><strong>TypeError</strong> – invalid connection</p></li>
<li><p><strong>pg.ProgrammingError</strong> – error in query or duplicate query</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method creates a prepared statement with the specified name for the
given command for later execution with the <a class="reference internal" href="#pg.Connection.query_prepared" title="pg.Connection.query_prepared"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.query_prepared()</span></code></a>
method. The name can be empty to create an unnamed statement, in which case
any pre-existing unnamed statement is automatically replaced; otherwise a
<code class="xref py py-exc docutils literal notranslate"><span class="pre">pg.ProgrammingError</span></code> is raised if the statement name is already defined
in the current database session.</p>
<p>The SQL command may optionally contain positional parameters of the form
<code class="docutils literal notranslate"><span class="pre">$1</span></code>, <code class="docutils literal notranslate"><span class="pre">$2</span></code>, etc instead of literal data.  The corresponding values
must then later be passed to the <a class="reference internal" href="#pg.Connection.query_prepared" title="pg.Connection.query_prepared"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.query_prepared()</span></code></a> method
separately as a tuple.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1.</span></p>
</div>
</div>
<div class="section" id="describe-prepared-describe-a-prepared-statement">
<h2>describe_prepared – describe a prepared statement<a class="headerlink" href="#describe-prepared-describe-a-prepared-statement" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.describe_prepared">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">describe_prepared</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.describe_prepared" title="Permalink to this definition">¶</a></dt>
<dd><p>Describe a prepared statement</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – name of the prepared statement</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="query.html#pg.Query" title="pg.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – bad argument type, or too many arguments</p></li>
<li><p><strong>TypeError</strong> – invalid connection</p></li>
<li><p><strong>pg.OperationalError</strong> – prepared statement does not exist</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method returns a <a class="reference internal" href="query.html#pg.Query" title="pg.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> object describing the prepared
statement with the given name.  You can also pass an empty name in order
to describe the unnamed statement.  Information on the fields of the
corresponding query can be obtained through the <a class="reference internal" href="query.html#pg.Query.listfields" title="pg.Query.listfields"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.listfields()</span></code></a>,
<a class="reference internal" href="query.html#pg.Query.fieldname" title="pg.Query.fieldname"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.fieldname()</span></code></a> and <a class="reference internal" href="query.html#pg.Query.fieldnum" title="pg.Query.fieldnum"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.fieldnum()</span></code></a> methods.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1.</span></p>
</div>
</div>
<div class="section" id="reset-reset-the-connection">
<h2>reset – reset the connection<a class="headerlink" href="#reset-reset-the-connection" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.reset">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the <a class="reference internal" href="index.html#module-pg" title="pg"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pg</span></code></a> connection</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – too many (any) arguments</p></li>
<li><p><strong>TypeError</strong> – invalid connection</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method resets the current database connection.</p>
</div>
<div class="section" id="cancel-abandon-processing-of-current-sql-command">
<h2>cancel – abandon processing of current SQL command<a class="headerlink" href="#cancel-abandon-processing-of-current-sql-command" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.cancel">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">cancel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.cancel" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – too many (any) arguments</p></li>
<li><p><strong>TypeError</strong> – invalid connection</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method requests that the server abandon processing
of the current SQL command.</p>
</div>
<div class="section" id="close-close-the-database-connection">
<h2>close – close the database connection<a class="headerlink" href="#close-close-the-database-connection" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.close">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the <a class="reference internal" href="index.html#module-pg" title="pg"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pg</span></code></a> connection</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>TypeError</strong> – too many (any) arguments</p>
</dd>
</dl>
</dd></dl>

<p>This method closes the database connection. The connection will
be closed in any case when the connection is deleted but this
allows you to explicitly close it. It is mainly here to allow
the DB-SIG API wrapper to implement a close function.</p>
</div>
<div class="section" id="transaction-get-the-current-transaction-state">
<h2>transaction – get the current transaction state<a class="headerlink" href="#transaction-get-the-current-transaction-state" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.transaction">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">transaction</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.transaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current in-transaction status of the server</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the current in-transaction status</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – too many (any) arguments</p></li>
<li><p><strong>TypeError</strong> – invalid connection</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>The status returned by this method can be <a class="reference internal" href="module.html#pg.TRANS_IDLE" title="pg.TRANS_IDLE"><code class="xref py py-const docutils literal notranslate"><span class="pre">TRANS_IDLE</span></code></a> (currently idle),
<a class="reference internal" href="module.html#pg.TRANS_ACTIVE" title="pg.TRANS_ACTIVE"><code class="xref py py-const docutils literal notranslate"><span class="pre">TRANS_ACTIVE</span></code></a> (a command is in progress), <a class="reference internal" href="module.html#pg.TRANS_INTRANS" title="pg.TRANS_INTRANS"><code class="xref py py-const docutils literal notranslate"><span class="pre">TRANS_INTRANS</span></code></a> (idle,
in a valid transaction block), or <a class="reference internal" href="module.html#pg.TRANS_INERROR" title="pg.TRANS_INERROR"><code class="xref py py-const docutils literal notranslate"><span class="pre">TRANS_INERROR</span></code></a> (idle, in a failed
transaction block).  <a class="reference internal" href="module.html#pg.TRANS_UNKNOWN" title="pg.TRANS_UNKNOWN"><code class="xref py py-const docutils literal notranslate"><span class="pre">TRANS_UNKNOWN</span></code></a> is reported if the connection is
bad.  The status <a class="reference internal" href="module.html#pg.TRANS_ACTIVE" title="pg.TRANS_ACTIVE"><code class="xref py py-const docutils literal notranslate"><span class="pre">TRANS_ACTIVE</span></code></a> is reported only when a query has been
sent to the server and not yet completed.</p>
</div>
<div class="section" id="parameter-get-a-current-server-parameter-setting">
<h2>parameter – get a current server parameter setting<a class="headerlink" href="#parameter-get-a-current-server-parameter-setting" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.parameter">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">parameter</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up a current parameter setting of the server</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – the name of the parameter to look up</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the current setting of the specified parameter</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str or None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – too many (any) arguments</p></li>
<li><p><strong>TypeError</strong> – invalid connection</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Certain parameter values are reported by the server automatically at
connection startup or whenever their values change.  This method can be used
to interrogate these settings.  It returns the current value of a parameter
if known, or <em>None</em> if the parameter is not known.</p>
<p>You can use this method to check the settings of important parameters such as
<cite>server_version</cite>, <cite>server_encoding</cite>, <cite>client_encoding</cite>, <cite>application_name</cite>,
<cite>is_superuser</cite>, <cite>session_authorization</cite>, <cite>DateStyle</cite>, <cite>IntervalStyle</cite>,
<cite>TimeZone</cite>, <cite>integer_datetimes</cite>, and <cite>standard_conforming_strings</cite>.</p>
<p>Values that are not reported by this method can be requested using
<a class="reference internal" href="db_wrapper.html#pg.DB.get_parameter" title="pg.DB.get_parameter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DB.get_parameter()</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.0.</span></p>
</div>
</div>
<div class="section" id="date-format-get-the-currently-used-date-format">
<h2>date_format – get the currently used date format<a class="headerlink" href="#date-format-get-the-currently-used-date-format" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.date_format">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">date_format</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.date_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the date format currently being used by the database</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the current date format</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – too many (any) arguments</p></li>
<li><p><strong>TypeError</strong> – invalid connection</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method returns the current date format used by the server.  Note that
it is cheap to call this method, since there is no database query involved
and the setting is also cached internally.  You will need the date format
when you want to manually typecast dates and timestamps coming from the
database instead of using the built-in typecast functions.  The date format
returned by this method can be directly used with date formatting functions
such as <code class="xref py py-meth docutils literal notranslate"><span class="pre">datetime.strptime()</span></code>.  It is derived from the current setting
of the database parameter <code class="docutils literal notranslate"><span class="pre">DateStyle</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.0.</span></p>
</div>
</div>
<div class="section" id="fileno-get-the-socket-used-to-connect-to-the-database">
<h2>fileno – get the socket used to connect to the database<a class="headerlink" href="#fileno-get-the-socket-used-to-connect-to-the-database" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.fileno">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">fileno</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.fileno" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the socket used to connect to the database</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the socket id of the database connection</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – too many (any) arguments</p></li>
<li><p><strong>TypeError</strong> – invalid connection</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method returns the underlying socket id used to connect
to the database. This is useful for use in select calls, etc.</p>
</div>
<div class="section" id="getnotify-get-the-last-notify-from-the-server">
<h2>getnotify – get the last notify from the server<a class="headerlink" href="#getnotify-get-the-last-notify-from-the-server" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.getnotify">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">getnotify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.getnotify" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the last notify from the server</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>last notify from server</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple, None</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – too many parameters</p></li>
<li><p><strong>TypeError</strong> – invalid connection</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method tries to get a notify from the server (from the SQL statement
NOTIFY). If the server returns no notify, the methods returns None.
Otherwise, it returns a tuple (triplet) <em>(relname, pid, extra)</em>, where
<em>relname</em> is the name of the notify, <em>pid</em> is the process id of the
connection that triggered the notify, and <em>extra</em> is a payload string
that has been sent with the notification. Remember to do a listen query
first, otherwise <a class="reference internal" href="#pg.Connection.getnotify" title="pg.Connection.getnotify"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.getnotify()</span></code></a> will always return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 4.1: </span>Support for payload strings was added in version 4.1.</p>
</div>
</div>
<div class="section" id="inserttable-insert-a-list-into-a-table">
<h2>inserttable – insert a list into a table<a class="headerlink" href="#inserttable-insert-a-list-into-a-table" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.inserttable">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">inserttable</code><span class="sig-paren">(</span><em class="sig-param">table</em>, <em class="sig-param">values</em><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.inserttable" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a Python list into a database table</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table</strong> (<em>str</em>) – the table name</p></li>
<li><p><strong>values</strong> (<em>list</em>) – list of rows values</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – invalid connection, bad argument type, or too many arguments</p></li>
<li><p><strong>MemoryError</strong> – insert buffer could not be allocated</p></li>
<li><p><strong>ValueError</strong> – unsupported values</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method allows to <em>quickly</em> insert large blocks of data in a table:
It inserts the whole values list into the given table. Internally, it
uses the COPY command of the PostgreSQL database. The list is a list
of tuples/lists that define the values for each inserted row. The rows
values may contain string, integer, long or double (real) values.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method doesn’t type check the fields according to the table definition;
it just looks whether or not it knows how to handle such types.</p>
</div>
</div>
<div class="section" id="get-set-cast-hook-fallback-typecast-function">
<h2>get/set_cast_hook – fallback typecast function<a class="headerlink" href="#get-set-cast-hook-fallback-typecast-function" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.get_cast_hook">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">get_cast_hook</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.get_cast_hook" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the function that handles all external typecasting</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the current external typecast function</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>callable, None</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – too many (any) arguments</p>
</dd>
</dl>
</dd></dl>

<p>This returns the callback function used by PyGreSQL to provide plug-in
Python typecast functions for the connection.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.0.</span></p>
</div>
<dl class="method">
<dt id="pg.Connection.set_cast_hook">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">set_cast_hook</code><span class="sig-paren">(</span><em class="sig-param">func</em><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.set_cast_hook" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a function that will handle all external typecasting</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> – the function to be used as a callback</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – the specified notice receiver is not callable</p>
</dd>
</dl>
</dd></dl>

<p>This methods allows setting a custom fallback function for providing
Python typecast functions for the connection to supplement the C
extension module.  If you set this function to <em>None</em>, then only the typecast
functions implemented in the C extension module are enabled.  You normally
would not want to change this.  Instead, you can use <a class="reference internal" href="module.html#pg.get_typecast" title="pg.get_typecast"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_typecast()</span></code></a> and
<a class="reference internal" href="module.html#pg.set_typecast" title="pg.set_typecast"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_typecast()</span></code></a> to add or change the plug-in Python typecast functions.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.0.</span></p>
</div>
</div>
<div class="section" id="get-set-notice-receiver-custom-notice-receiver">
<h2>get/set_notice_receiver – custom notice receiver<a class="headerlink" href="#get-set-notice-receiver-custom-notice-receiver" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.get_notice_receiver">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">get_notice_receiver</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.get_notice_receiver" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current notice receiver</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the current notice receiver callable</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>callable, None</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – too many (any) arguments</p>
</dd>
</dl>
</dd></dl>

<p>This method gets the custom notice receiver callback function that has
been set with <a class="reference internal" href="#pg.Connection.set_notice_receiver" title="pg.Connection.set_notice_receiver"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.set_notice_receiver()</span></code></a>, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if no
custom notice receiver has ever been set on the connection.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.1.</span></p>
</div>
<dl class="method">
<dt id="pg.Connection.set_notice_receiver">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">set_notice_receiver</code><span class="sig-paren">(</span><em class="sig-param">func</em><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.set_notice_receiver" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a custom notice receiver</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> – the custom notice receiver callback function</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – the specified notice receiver is not callable</p>
</dd>
</dl>
</dd></dl>

<p>This method allows setting a custom notice receiver callback function.
When a notice or warning message is received from the server,
or generated internally by libpq, and the message level is below
the one set with <code class="docutils literal notranslate"><span class="pre">client_min_messages</span></code>, the specified notice receiver
function will be called. This function must take one parameter,
the <code class="xref py py-class docutils literal notranslate"><span class="pre">Notice</span></code> object, which provides the following read-only
attributes:</p>
<blockquote>
<div><dl class="attribute">
<dt id="pg.Notice.pgcnx">
<code class="sig-prename descclassname">Notice.</code><code class="sig-name descname">pgcnx</code><a class="headerlink" href="#pg.Notice.pgcnx" title="Permalink to this definition">¶</a></dt>
<dd><p>the connection</p>
</dd></dl>

<dl class="attribute">
<dt id="pg.Notice.message">
<code class="sig-prename descclassname">Notice.</code><code class="sig-name descname">message</code><a class="headerlink" href="#pg.Notice.message" title="Permalink to this definition">¶</a></dt>
<dd><p>the full message with a trailing newline</p>
</dd></dl>

<dl class="attribute">
<dt id="pg.Notice.severity">
<code class="sig-prename descclassname">Notice.</code><code class="sig-name descname">severity</code><a class="headerlink" href="#pg.Notice.severity" title="Permalink to this definition">¶</a></dt>
<dd><p>the level of the message, e.g. ‘NOTICE’ or ‘WARNING’</p>
</dd></dl>

<dl class="attribute">
<dt id="pg.Notice.primary">
<code class="sig-prename descclassname">Notice.</code><code class="sig-name descname">primary</code><a class="headerlink" href="#pg.Notice.primary" title="Permalink to this definition">¶</a></dt>
<dd><p>the primary human-readable error message</p>
</dd></dl>

<dl class="attribute">
<dt id="pg.Notice.detail">
<code class="sig-prename descclassname">Notice.</code><code class="sig-name descname">detail</code><a class="headerlink" href="#pg.Notice.detail" title="Permalink to this definition">¶</a></dt>
<dd><p>an optional secondary error message</p>
</dd></dl>

<dl class="attribute">
<dt id="pg.Notice.hint">
<code class="sig-prename descclassname">Notice.</code><code class="sig-name descname">hint</code><a class="headerlink" href="#pg.Notice.hint" title="Permalink to this definition">¶</a></dt>
<dd><p>an optional suggestion what to do about the problem</p>
</dd></dl>

</div></blockquote>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.1.</span></p>
</div>
</div>
<div class="section" id="putline-write-a-line-to-the-server-socket-da">
<h2>putline – write a line to the server socket [DA]<a class="headerlink" href="#putline-write-a-line-to-the-server-socket-da" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.putline">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">putline</code><span class="sig-paren">(</span><em class="sig-param">line</em><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.putline" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a line to the server socket</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>line</strong> (<em>str</em>) – line to be written</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – invalid connection, bad parameter type, or too many parameters</p>
</dd>
</dl>
</dd></dl>

<p>This method allows to directly write a string to the server socket.</p>
</div>
<div class="section" id="getline-get-a-line-from-server-socket-da">
<h2>getline – get a line from server socket [DA]<a class="headerlink" href="#getline-get-a-line-from-server-socket-da" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.getline">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">getline</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.getline" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a line from server socket</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the line read</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – invalid connection</p></li>
<li><p><strong>TypeError</strong> – too many parameters</p></li>
<li><p><strong>MemoryError</strong> – buffer overflow</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method allows to directly read a string from the server socket.</p>
</div>
<div class="section" id="endcopy-synchronize-client-and-server-da">
<h2>endcopy – synchronize client and server [DA]<a class="headerlink" href="#endcopy-synchronize-client-and-server-da" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.endcopy">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">endcopy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.endcopy" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronize client and server</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – invalid connection</p></li>
<li><p><strong>TypeError</strong> – too many parameters</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>The use of direct access methods may desynchronize client and server.
This method ensure that client and server will be synchronized.</p>
</div>
<div class="section" id="locreate-create-a-large-object-in-the-database-lo">
<h2>locreate – create a large object in the database [LO]<a class="headerlink" href="#locreate-create-a-large-object-in-the-database-lo" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.locreate">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">locreate</code><span class="sig-paren">(</span><em class="sig-param">mode</em><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.locreate" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a large object in the database</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mode</strong> (<em>int</em>) – large object create mode</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>object handling the PostgreSQL large object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="large_objects.html#pg.LargeObject" title="pg.LargeObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">LargeObject</span></code></a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – invalid connection, bad parameter type, or too many parameters</p></li>
<li><p><strong>pg.OperationalError</strong> – creation error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method creates a large object in the database. The mode can be defined
by OR-ing the constants defined in the <a class="reference internal" href="index.html#module-pg" title="pg"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pg</span></code></a> module (<a class="reference internal" href="module.html#pg.INV_READ" title="pg.INV_READ"><code class="xref py py-const docutils literal notranslate"><span class="pre">INV_READ</span></code></a>,
<a class="reference internal" href="module.html#pg.INV_WRITE" title="pg.INV_WRITE"><code class="xref py py-const docutils literal notranslate"><span class="pre">INV_WRITE</span></code></a> and <code class="xref py py-const docutils literal notranslate"><span class="pre">INV_ARCHIVE</span></code>). Please refer to PostgreSQL
user manual for a description of the mode values.</p>
</div>
<div class="section" id="getlo-build-a-large-object-from-given-oid-lo">
<h2>getlo – build a large object from given oid [LO]<a class="headerlink" href="#getlo-build-a-large-object-from-given-oid-lo" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.getlo">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">getlo</code><span class="sig-paren">(</span><em class="sig-param">oid</em><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.getlo" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a large object in the database</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>oid</strong> (<em>int</em>) – OID of the existing large object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>object handling the PostgreSQL large object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="large_objects.html#pg.LargeObject" title="pg.LargeObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">LargeObject</span></code></a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – invalid connection, bad parameter type, or too many parameters</p></li>
<li><p><strong>ValueError</strong> – bad OID value (0 is invalid_oid)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method allows reusing a previously created large object through the
<a class="reference internal" href="large_objects.html#pg.LargeObject" title="pg.LargeObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">LargeObject</span></code></a> interface, provided the user has its OID.</p>
</div>
<div class="section" id="loimport-import-a-file-to-a-large-object-lo">
<h2>loimport – import a file to a large object [LO]<a class="headerlink" href="#loimport-import-a-file-to-a-large-object-lo" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pg.Connection.loimport">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">loimport</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#pg.Connection.loimport" title="Permalink to this definition">¶</a></dt>
<dd><p>Import a file to a large object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – the name of the file to be imported</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>object handling the PostgreSQL large object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="large_objects.html#pg.LargeObject" title="pg.LargeObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">LargeObject</span></code></a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – invalid connection, bad argument type, or too many arguments</p></li>
<li><p><strong>pg.OperationalError</strong> – error during file import</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This methods allows to create large objects in a very simple way. You just
give the name of a file containing the data to be used.</p>
</div>
<div class="section" id="object-attributes">
<h2>Object attributes<a class="headerlink" href="#object-attributes" title="Permalink to this headline">¶</a></h2>
<p>Every <a class="reference internal" href="#pg.Connection" title="pg.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> defines a set of read-only attributes that describe
the connection and its status. These attributes are:</p>
<dl class="attribute">
<dt id="pg.Connection.host">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">host</code><a class="headerlink" href="#pg.Connection.host" title="Permalink to this definition">¶</a></dt>
<dd><p>the host name of the server (str)</p>
</dd></dl>

<dl class="attribute">
<dt id="pg.Connection.port">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">port</code><a class="headerlink" href="#pg.Connection.port" title="Permalink to this definition">¶</a></dt>
<dd><p>the port of the server (int)</p>
</dd></dl>

<dl class="attribute">
<dt id="pg.Connection.db">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">db</code><a class="headerlink" href="#pg.Connection.db" title="Permalink to this definition">¶</a></dt>
<dd><p>the selected database (str)</p>
</dd></dl>

<dl class="attribute">
<dt id="pg.Connection.options">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">options</code><a class="headerlink" href="#pg.Connection.options" title="Permalink to this definition">¶</a></dt>
<dd><p>the connection options (str)</p>
</dd></dl>

<dl class="attribute">
<dt id="pg.Connection.user">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">user</code><a class="headerlink" href="#pg.Connection.user" title="Permalink to this definition">¶</a></dt>
<dd><p>user name on the database system (str)</p>
</dd></dl>

<dl class="attribute">
<dt id="pg.Connection.protocol_version">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">protocol_version</code><a class="headerlink" href="#pg.Connection.protocol_version" title="Permalink to this definition">¶</a></dt>
<dd><p>the frontend/backend protocol being used (int)</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">New in version 4.0.</span></p>
</div>
<dl class="attribute">
<dt id="pg.Connection.server_version">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">server_version</code><a class="headerlink" href="#pg.Connection.server_version" title="Permalink to this definition">¶</a></dt>
<dd><p>the backend version (int, e.g. 90305 for 9.3.5)</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">New in version 4.0.</span></p>
</div>
<dl class="attribute">
<dt id="pg.Connection.status">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">status</code><a class="headerlink" href="#pg.Connection.status" title="Permalink to this definition">¶</a></dt>
<dd><p>the status of the connection (int: 1 = OK, 0 = bad)</p>
</dd></dl>

<dl class="attribute">
<dt id="pg.Connection.error">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">error</code><a class="headerlink" href="#pg.Connection.error" title="Permalink to this definition">¶</a></dt>
<dd><p>the last warning/error message from the server (str)</p>
</dd></dl>

<dl class="attribute">
<dt id="pg.Connection.socket">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">socket</code><a class="headerlink" href="#pg.Connection.socket" title="Permalink to this definition">¶</a></dt>
<dd><p>the file descriptor number of the connection socket to the server (int)</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1.</span></p>
</div>
<dl class="attribute">
<dt id="pg.Connection.backend_pid">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">backend_pid</code><a class="headerlink" href="#pg.Connection.backend_pid" title="Permalink to this definition">¶</a></dt>
<dd><p>the PID of the backend process handling this connection (int)</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1.</span></p>
</div>
<dl class="attribute">
<dt id="pg.Connection.ssl_in_use">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">ssl_in_use</code><a class="headerlink" href="#pg.Connection.ssl_in_use" title="Permalink to this definition">¶</a></dt>
<dd><p>this is True if the connection uses SSL, False if not</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1: </span>(needs PostgreSQL &gt;= 9.5)</p>
</div>
<dl class="attribute">
<dt id="pg.Connection.ssl_attributes">
<code class="sig-prename descclassname">Connection.</code><code class="sig-name descname">ssl_attributes</code><a class="headerlink" href="#pg.Connection.ssl_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>SSL-related information about the connection (dict)</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1: </span>(needs PostgreSQL &gt;= 9.5)</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../index.html" title="contents/index">
          <img class="logo" src="../../_static/pygresql.png" alt="Logo"/>
        </a></p><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="../index.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Connection – The connection object</a><ul>
<li><a class="reference internal" href="#query-execute-a-sql-command-string">query – execute a SQL command string</a></li>
<li><a class="reference internal" href="#query-prepared-execute-a-prepared-statement">query_prepared – execute a prepared statement</a></li>
<li><a class="reference internal" href="#prepare-create-a-prepared-statement">prepare – create a prepared statement</a></li>
<li><a class="reference internal" href="#describe-prepared-describe-a-prepared-statement">describe_prepared – describe a prepared statement</a></li>
<li><a class="reference internal" href="#reset-reset-the-connection">reset – reset the connection</a></li>
<li><a class="reference internal" href="#cancel-abandon-processing-of-current-sql-command">cancel – abandon processing of current SQL command</a></li>
<li><a class="reference internal" href="#close-close-the-database-connection">close – close the database connection</a></li>
<li><a class="reference internal" href="#transaction-get-the-current-transaction-state">transaction – get the current transaction state</a></li>
<li><a class="reference internal" href="#parameter-get-a-current-server-parameter-setting">parameter – get a current server parameter setting</a></li>
<li><a class="reference internal" href="#date-format-get-the-currently-used-date-format">date_format – get the currently used date format</a></li>
<li><a class="reference internal" href="#fileno-get-the-socket-used-to-connect-to-the-database">fileno – get the socket used to connect to the database</a></li>
<li><a class="reference internal" href="#getnotify-get-the-last-notify-from-the-server">getnotify – get the last notify from the server</a></li>
<li><a class="reference internal" href="#inserttable-insert-a-list-into-a-table">inserttable – insert a list into a table</a></li>
<li><a class="reference internal" href="#get-set-cast-hook-fallback-typecast-function">get/set_cast_hook – fallback typecast function</a></li>
<li><a class="reference internal" href="#get-set-notice-receiver-custom-notice-receiver">get/set_notice_receiver – custom notice receiver</a></li>
<li><a class="reference internal" href="#putline-write-a-line-to-the-server-socket-da">putline – write a line to the server socket [DA]</a></li>
<li><a class="reference internal" href="#getline-get-a-line-from-server-socket-da">getline – get a line from server socket [DA]</a></li>
<li><a class="reference internal" href="#endcopy-synchronize-client-and-server-da">endcopy – synchronize client and server [DA]</a></li>
<li><a class="reference internal" href="#locreate-create-a-large-object-in-the-database-lo">locreate – create a large object in the database [LO]</a></li>
<li><a class="reference internal" href="#getlo-build-a-large-object-from-given-oid-lo">getlo – build a large object from given oid [LO]</a></li>
<li><a class="reference internal" href="#loimport-import-a-file-to-a-large-object-lo">loimport – import a file to a large object [LO]</a></li>
<li><a class="reference internal" href="#object-attributes">Object attributes</a></li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="module.html"
                          title="Previous page">&larr; Module functions and constants</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="db_wrapper.html"
                          title="Next page">&rarr; The DB wrapper class</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/contents/pg/connection.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="db_wrapper.html" title="The DB wrapper class"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="module.html" title="Module functions and constants"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">PyGreSQL 5.2 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" ><code class="xref py py-mod docutils literal notranslate"><span class="pre">pg</span></code> — The Classic PyGreSQL Interface</a> &#187;</li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; <a href="../../copyright.html">Copyright</a> 2020, The PyGreSQL team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>